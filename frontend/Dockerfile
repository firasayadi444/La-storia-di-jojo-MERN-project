# ğŸ“¦ Base image
FROM node:22-alpine

# ğŸ“ Dossier de travail dans le conteneur
WORKDIR /app

# ğŸ“„ Copie des fichiers package.json et package-lock.json
COPY package*.json ./

# ğŸ“¥ Installation des dÃ©pendances avec cache optimisÃ©
RUN npm ci --cache .npm --prefer-offline

# ğŸ—‚ï¸ Copie de tout le code source
COPY . .

# ğŸŒ± Variables d'environnement
ENV NODE_ENV=development
ENV VITE_API_URL=http://localhost:5000/api

# ğŸ”¥ Exposition du port 3000
EXPOSE 3000

# ğŸ Commande de dÃ©marrage avec Vite
CMD ["npm", "run", "dev"] 